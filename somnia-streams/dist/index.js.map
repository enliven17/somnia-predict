{"version":3,"sources":["../src/services/viem/index.ts","../src/services/smart-contracts/address/index.ts","../src/services/smart-contracts/abi/Streams/index.ts","../src/services/smart-contracts/abi/index.ts","../src/types/utils/index.ts","../src/services/smart-contracts/index.ts","../src/services/logs/index.ts","../src/modules/streams/encoder/index.ts","../src/constants/index.ts","../src/utils/validation.ts","../src/modules/streams/index.ts","../src/index.ts"],"names":["Viem","client","contractInfo","getContractViem","address","abi","functionName","args","value","account","hash","accounts","STREAMS_LIBRARY_BY_CHAIN","zeroAddress","getAddress","KnownContractsByChain","getContractAddress","ref","isAddress","StreamsABI","getABI","contractRefToString","internalRef","addressRef","getContractAddressAndAbi","isAddressEqual","maybeLogContractError","e","context","error","BaseError","revertError","err","ContractFunctionRevertedError","errorName","TUPLE_TYPE","BYTES32","ADDRESS","BOOL","IPFS_HASH","stripAbiNames","params","p","SchemaEncoder","_SchemaEncoder","schema","fixedSchema","parseAbi","input","type","signature","signatureSuffix","typeName","isArray","components","c","singleValue","data","index","schemaItem","name","sanitizedType","isHex","stringToHex","encodeAbiParameters","values","decodeAbiParameters","s","i","namedValues","val","namedValue","k","v","component","zeroBytes32","toBytes","assertAddressIsValid","disableZeroAddressCheck","Streams","streamsEventId","emitter","isEmitter","chainId","dataStreams","eventStreams","ids","schemas","schemasToRegister","updatedTopic","toEventSelector","events","schemaId","publisher","startIndex","endIndex","rawData","idx","id","registrations","registration","key","somniaStreamsEventId","ethCalls","onData","onError","eventContractSource","topicOverrides","onlyPushChanges","streamsProtocolAddress","eventSource","eventTopics","eventSchemas","eventSchema","eventTopic","createPublicClient","webSocket","finalSchema","encoder","raw","schemaLookup","contract","schemaRef","lookupSchemaOnchain","baseSchemaLookup","parentSchemaId","parentSchema","SDK"],"mappings":"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","file":"index.js","sourcesContent":["import { \n    Address,\n    Abi,\n    Account,\n    TransactionReceipt,\n    getContract as getContractViem,\n    WalletClient,\n} from \"viem\"\nimport { ContractAddressAndAbi } from \"@/services/smart-contracts\"\nimport { Client } from \"@/types\"\n \nexport class Viem {\n    client: Client\n    private chainId: number = 0\n\n    constructor(client: Client) {\n        this.client = client;\n    }\n\n    async getChainId(): Promise<number> {\n        if (this.chainId === 0) {\n            this.chainId = await this.client.public.getChainId()\n        }\n        return this.chainId\n    }\n\n    getContract(contractInfo: ContractAddressAndAbi) {\n        return getContractViem({\n            address: contractInfo.address,\n            abi: contractInfo.abi,\n            client: this.client.public\n        })\n    }\n\n    async readContract<T>(address: Address, abi: Abi, functionName: string, args: unknown[] = []) {\n        return this.client.public.readContract({\n            address,\n            abi,\n            functionName,\n            args\n        }) as Promise<T>\n    }\n\n    async writeContract(\n        address: Address,\n        abi: Abi,\n        functionName: string,\n        args: unknown[] = [],\n        value: bigint = BigInt(0)\n    ) {\n        if (!this.client.wallet) {\n            return null\n        }\n        const account: `0x${string}` | Account | null = this.client.wallet.account ?? null\n        return this.client.wallet.writeContract({\n            address,\n            abi,\n            functionName,\n            args,\n            value,\n            account,\n            chain: this.client.wallet.chain\n        })\n    }\n\n    async waitForTransaction(hash: `0x${string}`): Promise<TransactionReceipt> {\n        return this.client.public.waitForTransactionReceipt({\n            hash\n        })\n    }\n\n    async getCurrentAccounts(): Promise<Address[]> {\n\n        // If a wallet client is not injected, stop early\n        if (!this.client.wallet) {\n            throw new Error(\"No wallet client\")\n        }\n\n        let accounts: Address[] = []\n        if (this.client.wallet.account) {\n            // If we have a single account, push that as the only address\n            accounts.push(this.client.wallet.account.address)\n        } else {\n            // A different wallet client type has been supplied\n            // Check for accounts using the regular viem wallet client\n            try {\n                const viemWalletClient = this.client.wallet as WalletClient\n                accounts = await viemWalletClient.getAddresses()\n            } catch {\n                // Do nothing here - we have the ability to catch the error later\n            }\n        }\n\n        if (accounts.length === 0) {\n            throw new Error(\"No wallets detected\")\n        }\n\n        return accounts\n    }\n\n}","import {\n    ContractRef,\n    KnownContracts,\n    ContractAddressByChain\n} from \"@/types\"\nimport { Chains } from \"@/services/smart-contracts/constants\"\nimport {\n    isAddress,\n    Address,\n    zeroAddress,\n    getAddress,\n} from \"viem\"\n\nconst STREAMS_LIBRARY_BY_CHAIN: ContractAddressByChain = {\n    [Chains.SomniaMainnet]: zeroAddress,\n    [Chains.SomniaTestnet]: getAddress(\n        \"0x6AB397FF662e42312c003175DCD76EfF69D048Fc\"\n    ),\n}\n\nconst KnownContractsByChain: Record<KnownContracts, Record<string, Address>> = {\n    [KnownContracts.STREAMS]: STREAMS_LIBRARY_BY_CHAIN,\n}\n\nexport async function getContractAddress(ref: ContractRef): Promise<Address | null> {\n    if (ref.internal && ref.chainId) {\n        return KnownContractsByChain[ref.internal][ref.chainId.toString()] ?? null\n    } else if (ref.address) {\n        if (!isAddress(ref.address, { strict: false })) {\n            throw new Error(\"Invalid address supplied\")\n        }\n        return ref.address!\n    }\n    return null\n}","import { Abi } from \"viem\"\n\nexport async function StreamsABI(): Promise<Abi> {\n    return [\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"initialOwner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"constructor\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"EventSchemaAlreadyRegistered\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"EventSchemaNotRegistered\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"EventTopicAlreadyRegistered\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"IDAlreadyUsed\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"IdentityAlreadyExists\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"IdentityDoesNotExist\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"IncorrectNumberOfTopics\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"InvalidArrayLength\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"InvalidDataLength\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"InvalidIdentity\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"InvalidIndex\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"InvalidRange\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"InvalidSelfReference\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"InvalidSize\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"MaxArrayLengthExceeded\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"NoCalldata\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"NoData\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"OwnableInvalidOwner\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"account\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"OwnableUnauthorizedAccount\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"ParentSchemaNotRegistered\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"SchemaAlreadyRegistered\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"SchemaNotRegistered\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"TooManyIndexedParams\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"TooManyTopics\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"Unauthorized\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"ZeroValue\",\n      \"type\": \"error\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"publisher\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"bytes32\",\n          \"name\": \"dataId\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"ESStoreEvent\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"bytes32\",\n          \"name\": \"eventTopic\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"emitter\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"bool\",\n          \"name\": \"isEmitter\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"EmitterUpdated\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"wallet\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"IdentityCreated\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"wallet\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"IdentityDeleted\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": false,\n          \"internalType\": \"enum RoleControl.Role\",\n          \"name\": \"role\",\n          \"type\": \"uint8\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"bool\",\n          \"name\": \"isOpen\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"IsRoleOpenSet\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"previousOwner\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"newOwner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"OwnershipTransferred\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": false,\n          \"internalType\": \"bool\",\n          \"name\": \"bypassed\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"RoleChecksBypassToggled\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"wallet\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"enum RoleControl.Role\",\n          \"name\": \"role\",\n          \"type\": \"uint8\"\n        }\n      ],\n      \"name\": \"RoleGranted\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"wallet\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"enum RoleControl.Role\",\n          \"name\": \"role\",\n          \"type\": \"uint8\"\n        }\n      ],\n      \"name\": \"RoleRevoked\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"SchemaRegistered\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"bytes32\",\n          \"name\": \"eventTopic\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"string\",\n          \"name\": \"id\",\n          \"type\": \"string\"\n        }\n      ],\n      \"name\": \"SchemaRegistered\",\n      \"type\": \"event\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"MAX_NUM_EVM_INDEXED_PARAMS\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"bypassRoleChecks\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"schemaSpec\",\n          \"type\": \"string\"\n        }\n      ],\n      \"name\": \"computeSchemaId\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"stateMutability\": \"pure\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"walletAddress\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"enum RoleControl.Role[]\",\n          \"name\": \"initialRoles\",\n          \"type\": \"uint8[]\"\n        }\n      ],\n      \"name\": \"createWalletIdentity\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"wallet\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"deleteIdentity\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"components\": [\n            {\n              \"internalType\": \"string\",\n              \"name\": \"id\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"bytes32[]\",\n              \"name\": \"argumentTopics\",\n              \"type\": \"bytes32[]\"\n            },\n            {\n              \"internalType\": \"bytes\",\n              \"name\": \"data\",\n              \"type\": \"bytes\"\n            }\n          ],\n          \"internalType\": \"struct EventSource.EventData[]\",\n          \"name\": \"events\",\n          \"type\": \"tuple[]\"\n        }\n      ],\n      \"name\": \"emitEvents\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"success\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"components\": [\n            {\n              \"internalType\": \"bytes32\",\n              \"name\": \"id\",\n              \"type\": \"bytes32\"\n            },\n            {\n              \"internalType\": \"bytes32\",\n              \"name\": \"schemaId\",\n              \"type\": \"bytes32\"\n            },\n            {\n              \"internalType\": \"bytes\",\n              \"name\": \"data\",\n              \"type\": \"bytes\"\n            }\n          ],\n          \"internalType\": \"struct DataSchemaLibrary.DataStream[]\",\n          \"name\": \"dataStreams\",\n          \"type\": \"tuple[]\"\n        }\n      ],\n      \"name\": \"esstores\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"topic\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"eventIdFromTopic\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"id\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"getAllIdentities\",\n      \"outputs\": [\n        {\n          \"components\": [\n            {\n              \"internalType\": \"address\",\n              \"name\": \"walletAddress\",\n              \"type\": \"address\"\n            },\n            {\n              \"internalType\": \"enum RoleControl.Role[]\",\n              \"name\": \"roles\",\n              \"type\": \"uint8[]\"\n            }\n          ],\n          \"internalType\": \"struct RoleControl.IdentityView[]\",\n          \"name\": \"\",\n          \"type\": \"tuple[]\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"publisher\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"getAllPublisherDataForSchema\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bytes[]\",\n          \"name\": \"\",\n          \"type\": \"bytes[]\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"getAllRegisteredEventIds\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string[]\",\n          \"name\": \"\",\n          \"type\": \"string[]\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"getAllSchemas\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string[]\",\n          \"name\": \"\",\n          \"type\": \"string[]\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"getAllWallets\",\n      \"outputs\": [\n        {\n          \"internalType\": \"address[]\",\n          \"name\": \"\",\n          \"type\": \"address[]\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"idx\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"getEventIdAtIndex\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"string[]\",\n          \"name\": \"ids\",\n          \"type\": \"string[]\"\n        }\n      ],\n      \"name\": \"getEventSchemasById\",\n      \"outputs\": [\n        {\n          \"components\": [\n            {\n              \"components\": [\n                {\n                  \"internalType\": \"string\",\n                  \"name\": \"name\",\n                  \"type\": \"string\"\n                },\n                {\n                  \"internalType\": \"string\",\n                  \"name\": \"paramType\",\n                  \"type\": \"string\"\n                },\n                {\n                  \"internalType\": \"bool\",\n                  \"name\": \"isIndexed\",\n                  \"type\": \"bool\"\n                }\n              ],\n              \"internalType\": \"struct EventSource.Parameter[]\",\n              \"name\": \"params\",\n              \"type\": \"tuple[]\"\n            },\n            {\n              \"internalType\": \"bytes32\",\n              \"name\": \"eventTopic\",\n              \"type\": \"bytes32\"\n            }\n          ],\n          \"internalType\": \"struct EventSource.EventSchema[]\",\n          \"name\": \"schemas\",\n          \"type\": \"tuple[]\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"publisher\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"getLastPublishedDataForSchema\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bytes\",\n          \"name\": \"\",\n          \"type\": \"bytes\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"publisher\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"idx\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"getPublisherDataForSchemaAtIndex\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bytes\",\n          \"name\": \"\",\n          \"type\": \"bytes\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"publisher\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"start\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"end\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"getPublisherDataForSchemaInRange\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bytes[]\",\n          \"name\": \"\",\n          \"type\": \"bytes[]\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"idx\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"getSchema\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"parentSchemaId_\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"string\",\n          \"name\": \"schema\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"getTotalNumberOfRegisteredEventSchemas\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"wallet\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"enum RoleControl.Role\",\n          \"name\": \"role\",\n          \"type\": \"uint8\"\n        }\n      ],\n      \"name\": \"grantRole\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"id\",\n          \"type\": \"string\"\n        }\n      ],\n      \"name\": \"idToSchemaId\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"topic\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"caller\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"isCallerAuthorisedEmitter\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"isEmitter\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"isSchemaRegistered\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"isRegistered\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"id\",\n          \"type\": \"string\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"emitter\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"isEmitter\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"manageEventEmitter\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"owner\",\n      \"outputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"parentSchemaId\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"parent\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"components\": [\n            {\n              \"internalType\": \"bytes32\",\n              \"name\": \"id\",\n              \"type\": \"bytes32\"\n            },\n            {\n              \"internalType\": \"bytes32\",\n              \"name\": \"schemaId\",\n              \"type\": \"bytes32\"\n            },\n            {\n              \"internalType\": \"bytes\",\n              \"name\": \"data\",\n              \"type\": \"bytes\"\n            }\n          ],\n          \"internalType\": \"struct DataSchemaLibrary.DataStream[]\",\n          \"name\": \"dataStreams\",\n          \"type\": \"tuple[]\"\n        },\n        {\n          \"components\": [\n            {\n              \"internalType\": \"string\",\n              \"name\": \"id\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"bytes32[]\",\n              \"name\": \"argumentTopics\",\n              \"type\": \"bytes32[]\"\n            },\n            {\n              \"internalType\": \"bytes\",\n              \"name\": \"data\",\n              \"type\": \"bytes\"\n            }\n          ],\n          \"internalType\": \"struct EventSource.EventData[]\",\n          \"name\": \"events\",\n          \"type\": \"tuple[]\"\n        }\n      ],\n      \"name\": \"publishDataAndEmitEvents\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"publisher\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"key\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"publisherDataExists\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"exists\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"publisher\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"key\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"publisherDataIndex\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"index\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"string[]\",\n          \"name\": \"ids\",\n          \"type\": \"string[]\"\n        },\n        {\n          \"components\": [\n            {\n              \"components\": [\n                {\n                  \"internalType\": \"string\",\n                  \"name\": \"name\",\n                  \"type\": \"string\"\n                },\n                {\n                  \"internalType\": \"string\",\n                  \"name\": \"paramType\",\n                  \"type\": \"string\"\n                },\n                {\n                  \"internalType\": \"bool\",\n                  \"name\": \"isIndexed\",\n                  \"type\": \"bool\"\n                }\n              ],\n              \"internalType\": \"struct EventSource.Parameter[]\",\n              \"name\": \"params\",\n              \"type\": \"tuple[]\"\n            },\n            {\n              \"internalType\": \"bytes32\",\n              \"name\": \"eventTopic\",\n              \"type\": \"bytes32\"\n            }\n          ],\n          \"internalType\": \"struct EventSource.EventSchema[]\",\n          \"name\": \"schemas\",\n          \"type\": \"tuple[]\"\n        }\n      ],\n      \"name\": \"registerEventSchemas\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"components\": [\n            {\n              \"internalType\": \"string\",\n              \"name\": \"id\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"string\",\n              \"name\": \"schema\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"bytes32\",\n              \"name\": \"parentSchemaId\",\n              \"type\": \"bytes32\"\n            }\n          ],\n          \"internalType\": \"struct DataSchemaLibrary.SchemaRegistration[]\",\n          \"name\": \"schemaRegistrations\",\n          \"type\": \"tuple[]\"\n        }\n      ],\n      \"name\": \"registerSchemas\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"renounceOwnership\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"wallet\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"enum RoleControl.Role\",\n          \"name\": \"role\",\n          \"type\": \"uint8\"\n        }\n      ],\n      \"name\": \"revokeRole\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"schemaIdToId\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"id\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"schemaReverseLookup\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"schema\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"bypass\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"setBypassRoleChecks\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"enum RoleControl.Role\",\n          \"name\": \"role\",\n          \"type\": \"uint8\"\n        },\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"isOpen\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"setIsRoleOpen\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"topic\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"topicRegistrationOrigin\",\n      \"outputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"origin\",\n          \"type\": \"address\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"schemaId\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"publisher\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"totalPublisherDataForSchema\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"totalSchemasRegistered\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"topic\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"name\": \"totalTopicIndexedParams\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"indexedParams\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"newOwner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"transferOwnership\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }\n  ] as Abi\n}\n","import { StreamsABI } from \"./Streams\"\nimport { ContractRef, KnownContracts } from \"@/types\"\nimport { isAddress } from \"viem\"\n\nexport async function getABI(ref: ContractRef) {\n    if (ref.internal) {\n        switch (ref.internal) {\n            case KnownContracts.STREAMS:\n                return StreamsABI()\n        }\n    } else if (ref.address) {\n        // Future: resolve ABI from Etherbase\n        if (!isAddress(ref.address, { strict: false })) {\n            throw new Error(\"Invalid address supplied\")\n        }\n        throw new Error(\"Feature not implemented\")\n    }\n}","import { ContractRef } from \"../index\"\n\nexport function contractRefToString(ref: ContractRef) {\n    const internalRef = ref.internal ? `${ref.internal}` : \"UnknownContract\"\n    const addressRef = ref.address ? `${ref.address}` : \"InvalidAddress\"\n    return `${ref.chainId}:${internalRef}:${addressRef}`\n}","import { getContractAddress } from \"@/services/smart-contracts/address/index\"\nimport { getABI } from \"@/services/smart-contracts/abi/index\"\nimport { ContractRef } from \"@/types\"\nimport { contractRefToString } from \"@/types/utils\"\nimport { isAddress, Abi, Address, isAddressEqual, zeroAddress } from \"viem\"\n\nexport type ContractAddressAndAbi = {\n    abi: Abi,\n    address: Address,\n}\n\nexport async function getContractAddressAndAbi(ref: ContractRef): Promise<ContractAddressAndAbi> {\n    const abi = await getABI(ref)\n    if (!abi) {\n        throw new Error(`Unable to resolve ABI for ${contractRefToString(ref)}`)\n    }\n\n    const address = await getContractAddress(ref)\n    if (!address) {\n        throw new Error(`Unable to resolve contract address for ${contractRefToString(ref)}`)\n    }\n\n    if (!isAddress(address, { strict: false })) {\n        throw new Error(`Invalid contract address for ${contractRefToString(ref)}`)\n    }\n\n    if (isAddressEqual(address, zeroAddress)) {\n        throw new Error(`No contract connected for ${contractRefToString(ref)}`)\n    }\n\n    return {\n        abi,\n        address\n    }\n}","import { BaseError, ContractFunctionRevertedError } from \"viem\"\n\nexport function maybeLogContractError(e: unknown, context: string): Error | null {\n    let error: Error | null = null\n    if (e instanceof BaseError) {\n        const revertError = e.walk(\n            (err) => err instanceof ContractFunctionRevertedError,\n        )\n        if (revertError instanceof ContractFunctionRevertedError) {\n            const errorName = revertError.data?.errorName ?? \"UnknownError\"\n            console.log({ errorType: \"Contract Error\", context, errorName })\n            error = new Error(errorName)\n        }\n    }\n    return error\n}","// Viem version of: https://github.com/ethereum-attestation-service/eas-sdk/blob/master/src/schema-encoder.ts\n\nimport {\n    parseAbi,\n    encodeAbiParameters,\n    decodeAbiParameters,\n    stringToHex,\n    isHex,\n    type AbiParameter,\n    type Hex,\n    zeroAddress\n} from \"viem\";\n\nexport type SchemaValue =\n  | string\n  | boolean\n  | number\n  | bigint\n  | Record<string, unknown>\n  | Record<string, unknown>[]\n  | unknown[];\n\nexport interface SchemaItem {\n  name: string;\n  type: string;\n  value: SchemaValue;\n}\n\nexport interface SchemaItemWithSignature extends SchemaItem {\n  signature: string;\n}\n\nexport interface SchemaDecodedItem {\n  name: string;\n  type: string;\n  signature: string;\n  value: SchemaItem;\n}\n\nconst TUPLE_TYPE = \"tuple\";\nconst BYTES32 = \"bytes32\";\nconst ADDRESS = \"address\";\nconst BOOL = \"bool\";\nconst IPFS_HASH = \"ipfsHash\";\n\nfunction stripAbiNames(params: readonly AbiParameter[]): AbiParameter[] {\n  return params.map((p) => {\n    if (\"components\" in p) {\n      return {\n        type: p.type,\n        components: stripAbiNames(p.components ?? []),\n      };\n    } else {\n      return { type: p.type };\n    }\n  });\n}\n\nexport class SchemaEncoder {\n  public schema: SchemaItemWithSignature[];\n  private abiParams: readonly AbiParameter[];\n  private abiParamsNoNames: AbiParameter[];\n\n  constructor(schema: string) {\n    this.schema = [];\n\n    const fixedSchema = schema.replace(new RegExp(`${IPFS_HASH} (\\\\S+)`, \"g\"), `${BYTES32} $1`);\n    const abi = parseAbi([`function func(${fixedSchema})`]);\n\n    this.abiParams = abi[0].inputs;\n    this.abiParamsNoNames = stripAbiNames(this.abiParams);\n\n    for (const input of this.abiParams) {\n      let type = input.type;\n      let signature = input.name ? `${input.type} ${input.name}` : input.type;\n      const signatureSuffix = input.name ? ` ${input.name}` : \"\";\n      let typeName = type;\n\n      const isArray = type.endsWith(\"[]\");\n      let components: readonly AbiParameter[] = [];\n      if (type.startsWith(TUPLE_TYPE)) {\n        if (!(\"components\" in input)) throw new Error(\"Missing components for tuple type\");\n        components = input.components ?? [];\n        type = `(${components.map((c) => c.type).join(\",\")})${isArray ? \"[]\" : \"\"}`;\n        signature = `(${components.map((c) => (c.name ? `${c.type} ${c.name}` : c.type)).join(\",\")})${\n          isArray ? \"[]\" : \"\"\n        }${signatureSuffix}`;\n      } else if (type.includes(\"[]\")) {\n        typeName = typeName.replace(\"[]\", \"\");\n      }\n\n      const singleValue = SchemaEncoder.getDefaultValueForTypeName(typeName);\n\n      this.schema.push({\n        name: input.name ?? \"\",\n        type,\n        signature,\n        value: type.includes(\"[]\") ? [] : singleValue\n      });\n    }\n  }\n\n  public encodeData(params: SchemaItem[]): Hex {\n    if (params.length !== this.schema.length) {\n      throw new Error(\"Invalid number or values\");\n    }\n\n    const data = [];\n\n    for (const [index, schemaItem] of this.schema.entries()) {\n      const { type, name, value } = params[index];\n      const sanitizedType = type.replace(/\\s/g, \"\");\n\n      if (\n        sanitizedType !== schemaItem.type &&\n        sanitizedType !== schemaItem.signature &&\n        !(sanitizedType === IPFS_HASH && schemaItem.type === BYTES32)\n      ) {\n        throw new Error(`Incompatible param type: ${sanitizedType}`);\n      }\n\n      if (name !== schemaItem.name) {\n        throw new Error(`Incompatible param name: ${name}`);\n      }\n\n      data.push(\n        schemaItem.type === BYTES32 && typeof value === \"string\" && !isHex(value)\n            ? stringToHex(value, { size: 32 })\n            : value\n      );\n    }\n\n    return encodeAbiParameters(this.abiParams, data);\n  }\n\n  public decodeData(data: Hex): SchemaDecodedItem[] {\n    const values = decodeAbiParameters(this.abiParamsNoNames, data);\n\n    return this.schema.map((s, i) => {\n      let value = values[i];\n      const input = this.abiParams[i];\n      const components: readonly AbiParameter[] = \"components\" in input ? input.components ?? [] : [];\n\n      if (components.length > 0) {\n        if (input.type.endsWith(\"[]\")) {\n          const namedValues: SchemaItem[][] = [];\n\n          for (const val of value as readonly unknown[][]) {\n            const namedValue: SchemaItem[] = [];\n            for (const [k, v] of val.entries()) {\n              const component = components[k];\n              namedValue.push({ name: component.name ?? \"\", type: component.type, value: v as SchemaValue });\n            }\n            namedValues.push(namedValue);\n          }\n\n          value = {\n            name: s.name,\n            type: s.type,\n            value: namedValues\n          };\n        } else {\n          const namedValue: SchemaItem[] = [];\n          for (const [k, v] of (value as readonly unknown[]).entries()) {\n            const component = components[k];\n            namedValue.push({ name: component.name ?? \"\", type: component.type, value: v as SchemaValue });\n          }\n\n          value = {\n            name: s.name,\n            type: s.type,\n            value: namedValue\n          };\n        }\n      } else {\n        value = { name: s.name, type: s.type, value: value as SchemaValue };\n      }\n\n      return {\n        name: s.name,\n        type: s.type,\n        signature: s.signature,\n        value: value as SchemaItem\n      };\n    });\n  }\n\n  public static isSchemaValid(schema: string) {\n    try {\n      new SchemaEncoder(schema);\n\n      return true;\n    } catch (_e) {\n      return false;\n    }\n  }\n\n  public isEncodedDataValid(data: Hex) {\n    try {\n      this.decodeData(data);\n\n      return true;\n    } catch (_e) {\n      return false;\n    }\n  }\n\n  private static getDefaultValueForTypeName(typeName: string) {\n    if (typeName === BOOL) return false;\n    if (typeName.includes(\"int\")) return BigInt(0);\n    if (typeName === ADDRESS) return zeroAddress;\n    return \"\";\n  }\n\n}","import { toBytes } from \"viem\"\n\nexport const zeroBytes32 = `0x${Buffer.from(toBytes(0, { size: 32 })).toString(\"hex\")}`","import { isAddress, isAddressEqual, zeroAddress, Address } from \"viem\"\n\nexport function assertAddressIsValid(address: Address, disableZeroAddressCheck?: boolean) {\n    if (!isAddress(address, { strict: false })) {\n        throw new Error(`Invalid address`)\n    }\n\n    if (!disableZeroAddressCheck && isAddressEqual(address, zeroAddress)) {\n        throw new Error(`Zero address supplied`)\n    }\n}","/**\n * Imports\n */\nimport { Client, KnownContracts } from \"@/types\"\nimport { Viem } from \"@/services/viem\"\nimport { getContractAddressAndAbi } from \"@/services/smart-contracts\"\nimport { maybeLogContractError } from \"@/services/logs\"\nimport {\n    Hex,\n    Address,\n    Abi,\n    createPublicClient,\n    webSocket,\n    toEventSelector,\n    isAddressEqual,\n} from \"viem\"\nimport { SchemaDecodedItem, SchemaEncoder } from \"./encoder\"\nimport { zeroBytes32 } from \"@/constants\"\nimport {\n    SchemaReference,\n    DataStream,\n    EventStream,\n    EventSchema,\n    SchemaID,\n    DataSchemaRegistration,\n    ExtendedWebSocketTransport,\n    StreamsInterface,\n    SubscriptionInitParams,\n    GetSomniaDataStreamsProtocolInfoResponse,\n} from \"@/types/streams\"\nimport { assertAddressIsValid } from \"@/utils/validation\"\n\n/**\n * Exports\n */\nexport {SchemaEncoder} from \"./encoder\"\n\nexport class Streams implements StreamsInterface {\n    private viem: Viem\n\n    constructor(client: Client) {\n        this.viem = new Viem(client)\n    }\n\n    /**\n     * Adjust the accounts that can emit registered streams event schemas\n     * @dev By default, the wallet that registers an event is a defacto emitter but more can be added\n     * @dev If one wants the event to be open to all to emit, one could whitelist a smart contract and manage access externally\n     * @param streamsEventId Identifier of the registered streams event\n     * @param emitter Wallet address\n     * @param isEmitter Flag to enable or disable the emitter\n     * @returns Transaction hash if successful, Error object where applicable or null in catch all error case\n     */\n    public async manageEventEmittersForRegisteredStreamsEvent(\n        streamsEventId: string,\n        emitter: Address,\n        isEmitter: boolean\n    ): Promise<Hex | Error | null> {\n        assertAddressIsValid(emitter)\n        try {\n            // Resolve the chain id based on connected clients\n            const chainId = await this.viem.getChainId()\n\n            const {\n                address,\n                abi\n            } = await getContractAddressAndAbi({ \n                internal: KnownContracts.STREAMS,\n                chainId \n            })\n\n            return this.viem.writeContract(\n                address,\n                abi!,\n                \"manageEventEmitter\",\n                [streamsEventId, emitter, isEmitter]\n            )\n        } catch (e) {\n            console.log(\"manageEventEmitter failure\", e)\n            maybeLogContractError(e, \"Failed to manage event emitter\")\n            if (e instanceof Error) {\n                return e\n            }\n        }\n        return null\n    }\n\n    /**\n     * Publish on-chain state updates and emit associated events\n     * @dev Note that the state will be written to chain before any event(s) is/are emitted\n     * @param dataStreams Bytes stream array that has unique keys referencing schemas\n     * @param eventStreams Somnia stream event ids and associated arguments to emit EVM logs\n     * @returns Transaction hash if successful, Error object where applicable or null in catch all error case\n     */\n    public async setAndEmitEvents(\n        dataStreams: DataStream[],\n        eventStreams: EventStream[]\n    ): Promise<Hex | Error | null> {\n        try {\n            // Resolve the chain id based on connected clients\n            const chainId = await this.viem.getChainId()\n\n            const {\n                address,\n                abi\n            } = await getContractAddressAndAbi({ \n                internal: KnownContracts.STREAMS,\n                chainId \n            })\n\n            return this.viem.writeContract(\n                address,\n                abi!,\n                \"publishDataAndEmitEvents\",\n                [dataStreams, eventStreams]\n            )\n        } catch (e) {\n            console.log(\"publishDataAndEmitEvents failure\", e)\n            maybeLogContractError(e, \"Failed to publish data and emit events\")\n            if (e instanceof Error) {\n                return e\n            }\n        }\n        return null\n    }\n\n    /**\n     * Register a set of event schemas that can emit EVM logs later referenced by an arbitrary ID\n     * @param ids Arbirary identifiers that will be asigned to event schmas\n     * @param schemas Unique event schemas that contain an event topic and a specified number of indexed and non-indexed params\n     * @returns Transaction hash if successful, Error object where applicable or null in catch all error case\n     */\n    public async registerEventSchemas(\n        ids: string[],\n        schemas: EventSchema[]\n    ): Promise<Hex | Error | null> {\n        try {\n            // Resolve the chain id based on connected clients\n            const chainId = await this.viem.getChainId()\n\n            const {\n                address,\n                abi\n            } = await getContractAddressAndAbi({ \n                internal: KnownContracts.STREAMS,\n                chainId \n            })\n\n            // Allow for event signatures to be supplied which will then compute the event selector\n            const schemasToRegister: EventSchema[] = schemas.map(schema => {\n                let updatedTopic = schema.eventTopic\n                if (updatedTopic.indexOf(\"0x\") === -1) {\n                    updatedTopic = toEventSelector(updatedTopic)\n                }\n                return {\n                    params: schema.params,\n                    eventTopic: updatedTopic\n                }\n            })\n\n            // Fire the register event schema\n            return this.viem.writeContract(\n                address,\n                abi!,\n                \"registerEventSchemas\",\n                [ids, schemasToRegister]\n            )\n        } catch (e) {\n            console.log(\"registerEventSchemas failure\", e)\n            maybeLogContractError(e, \"Failed to register event schema\")\n            if (e instanceof Error) {\n                return e\n            }\n        }\n        return null\n    }\n\n    /**\n     * Emit EVM event logs on-chain for events that have registered schemas on the Somnia streams protocol\n     * @param events Somnia stream event ids and associated arguments to emit EVM logs\n     * @returns Transaction hash if successful, Error object where applicable or null in catch all error case\n     */\n    public async emitEvents(\n        events: EventStream[]\n    ): Promise<Hex | Error | null> {\n        try {\n            // Resolve the chain id based on connected clients\n            const chainId = await this.viem.getChainId()\n            \n            // Fetch the contract address and abi based on the connected chain\n            const {\n                address,\n                abi\n            } = await getContractAddressAndAbi({ \n                internal: KnownContracts.STREAMS,\n                chainId \n            })\n\n            // Execute the transaction to emit the event schema\n            return this.viem.writeContract(\n                address,\n                abi!,\n                \"emitEvents\",\n                [events]\n            )\n        } catch (e) {\n            console.log(\"emitEvents failure\", e)\n            maybeLogContractError(e, \"Failed to emit events\")\n            if (e instanceof Error) {\n                return e\n            }\n        }\n        return null\n    }\n\n    /**\n     * Compute the bytes32 keccak256 hash of the schema - used as the schema identifier\n     * @param schema The solidity compatible schema encoded in a string\n     * @returns The bytes32 schema ID\n     */\n    public async computeSchemaId(schema: string): Promise<Hex | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Get the schema id\n            return this.viem.readContract<Hex>(\n                address,\n                abi,\n                \"computeSchemaId\",\n                [schema]\n            )\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Query the contract to check whether a data schema is already registered based on a known schema ID\n     * @param schemaId Hex schema ID that is a bytes32 solidity value\n     * @returns Boolean denoting registration or null if it was not possible to register that info\n     */\n    public async isDataSchemaRegistered(schemaId: SchemaID): Promise<boolean | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Get the schema id\n            return this.viem.readContract<boolean>(\n                address,\n                abi,\n                \"isSchemaRegistered\",\n                [schemaId]\n            )\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Total data points published on-chain by a specific wallet for a given schema\n     * @param schemaId Unique hex reference to the schema (bytes32 value)\n     * @param publisher Address of the wallet or smart contract that published the data\n     * @returns An unsigned integer or null if the information could not be retrieved\n     */\n    public async totalPublisherDataForSchema(\n        schemaId: SchemaID,\n        publisher: Address\n    ): Promise<bigint | null> {\n        assertAddressIsValid(publisher)\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Get the schema id\n            return this.viem.readContract<bigint>(\n                address,\n                abi,\n                \"totalPublisherDataForSchema\",\n                [schemaId, publisher]\n            )\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Given knowledge re total data published under a schema for a publisher, get data in a specified range\n     * @param schemaId Unique hex reference to the schema (bytes32 value)\n     * @param publisher Address of the wallet or smart contract that published the data\n     * @param startIndex BigInt start of the range (inclusive)\n     * @param endIndex BigInt end of the range (exclusive)\n     * @returns Raw bytes array if the schema is private, decoded data array if schema is valid, error or null when something goes wrong\n     */\n    public async getBetweenRange(\n        schemaId: SchemaID,\n        publisher: Address,\n        startIndex: bigint,\n        endIndex: bigint\n    ): Promise<Hex[] | SchemaDecodedItem[][] | Error | null> {\n        // Ensure the publisher address is valid\n        assertAddressIsValid(publisher)\n\n        // Get data between range\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Read from chain with a single multicall call that avoids contractViewCalls.length rpc calls\n            const rawData = await this.viem.readContract<Hex[]>(\n                address,\n                abi,\n                \"getPublisherDataForSchemaInRange\",\n                [schemaId, publisher, startIndex, endIndex]\n            )\n\n            // Extract the raw data and ask the SDK to deserialise using the data schema specified\n            return this.deserialiseRawData(rawData, schemaId)\n        } catch (e) {\n            console.log(\"getBetweenRange failure\", e)\n            maybeLogContractError(e, \"getBetweenRange: Failed to get data\")\n            if (e instanceof Error) {\n                return e\n            }\n        }\n        return null\n    }\n\n    /**\n     * Read historical published data for a given schema at a known index\n     * @param schemaId Unique schema reference that can be computed from the full schema\n     * @param publisher Wallet that published the data\n     * @param idx Index of the data in an append only list associated with the data publisher wallet\n     * @returns Raw data as a hex string if the schema is private, deserialised data or null if the data does not exist\n     */\n    public async getAtIndex(\n        schemaId: SchemaID,\n        publisher: Address,\n        idx: bigint\n    ): Promise<Hex[] | SchemaDecodedItem[][] | null> {\n        assertAddressIsValid(publisher)\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Read from chain\n            const rawData = await this.viem.readContract<Hex>(\n                address,\n                abi,\n                \"getPublisherDataForSchemaAtIndex\",\n                [schemaId, publisher, idx]\n            )\n\n            return this.deserialiseRawData([rawData], schemaId)\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Fetches the parent schema of another schema which is important metadata when deserialising data associated with a schema that extends a parent schema\n     * @param schemaId Hex identifier of the schema being queried\n     * @returns A hex value (bytes32) that is fully zero'd if there is no parent or null if the info cannot be retrieved\n     */\n    public async parentSchemaId(schemaId: SchemaID): Promise<Hex | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Get the schema id\n            return this.viem.readContract<Hex>(\n                address,\n                abi,\n                \"parentSchemaId\",\n                [schemaId]\n            )\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Query the unique human readable identifier for a schema\n     * @param schemaId Hex encoded schema ID computed from the raw schema using computeSchemaId\n     * @returns The human readable identifier for a schema\n     */\n    public async schemaIdToId(schemaId: SchemaID): Promise<string | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Get the schema id\n            return this.viem.readContract<Hex>(\n                address,\n                abi,\n                \"schemaIdToId\",\n                [schemaId]\n            )\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Lookup the Hex schema ID for a given unique human readable identifer\n     * @param id Human readable identifier\n     * @returns Hex schema id (bytes32 solidity type)\n     */\n    public async idToSchemaId(id: string): Promise<Hex | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Get the schema id\n            return this.viem.readContract<Hex>(\n                address,\n                abi,\n                \"idToSchemaId\",\n                [id]\n            )\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Batch register multiple schemas that can be used to write state to chain\n     * @param registrations Array of raw schemas and any parent schemas associated (if extending a schema)\n     * @returns Transaction hash if successful, Error if one is present or null if something failed\n     */\n    public async registerDataSchemas(\n        registrations: DataSchemaRegistration[]\n    ): Promise<Hex | Error | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            return this.viem.writeContract(\n                address,\n                abi,\n                \"registerSchemas\",\n                [registrations.map(registration => ({\n                    id: registration.id,\n                    schema: registration.schema,\n                    parentSchemaId: registration.parentSchemaId ? registration.parentSchemaId : zeroBytes32\n                }))]\n            )\n        } catch (e) {\n            console.log(\"manageEventEmitter failure\", e)\n            maybeLogContractError(e, \"Failed to manage event emitter\")\n            if (e instanceof Error) {\n                return e\n            }\n        }\n        return null\n    }\n\n    /**\n     * Write data to chain using data streams that can be parsed by schemas\n     * @param dataStreams Bytes stream array that has unique keys referencing schemas\n     * @returns Transaction hash or null if there are issues writing to chain\n     */\n    public async set(\n        dataStreams: DataStream[]\n    ): Promise<Hex | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            return this.viem.writeContract(\n                address,\n                abi,\n                \"esstores\",\n                [dataStreams]\n            )\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Fetches all raw, registered public schemas that can be used to deserialise data associated with the schema ids\n     * @returns Array of full schemas or null if there was an issue fetching schemas\n     */\n    public async getAllSchemas(): Promise<string[] | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            return this.viem.readContract<string[]>(\n                address,\n                abi,\n                \"getAllSchemas\"\n            )\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Query Somnia Data streams for all data published by a specific wallet for a given schema\n     * @param schemaId Unique schema reference to a public or private schema or the full schema\n     * @param publisher Wallet that broadcast the data on-chain\n     * @returns A hex array with (raw data) for private schemas, SchemaDecodedItem 2D array for decoded data or null for errors reading from chain\n     */\n    public async getAllPublisherDataForSchema(\n        schemaId: SchemaID,\n        publisher: Address\n    ): Promise<Hex[] | SchemaDecodedItem[][] | null> {\n        assertAddressIsValid(publisher)\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Read from chain\n            const rawData = await this.viem.readContract<Hex[]>(\n                address,\n                abi,\n                \"getAllPublisherDataForSchema\",\n                [schemaId, publisher]\n            )\n\n            return this.deserialiseRawData(rawData, schemaId)\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Read state from the Somnia streams protocol that was written via set or setAndEmitEvents\n     * @param schemaId Unique hex identifier for the schema associated with the raw data written to chain\n     * @param publisher Address of the wallet that wrote the data to chain\n     * @param key Unique reference to the data being read\n     * @returns The raw data\n     */\n    public async getByKey(\n        schemaId: SchemaID,\n        publisher: Address,\n        key: Hex\n    ): Promise<Hex[] | SchemaDecodedItem[][] | null> {\n        assertAddressIsValid(publisher)\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Get the index associated with the data key\n            const index = await this.viem.readContract<bigint>(\n                address,\n                abi,\n                \"publisherDataIndex\",\n                [schemaId, publisher, key]\n            )\n\n            return this.getAtIndex(\n                schemaId,\n                publisher,\n                index\n            )\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Gets a set of regisered event schemas based on a set of known event schema identifiers assigned at registration\n     * @param ids Set of event schema identifiers given to registered event topics\n     * @returns Set of event schemas or null if the data cannot be read from chain\n     */\n    public async getEventSchemasById(ids: string[]): Promise<EventSchema[] | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            return this.viem.readContract<EventSchema[]>(\n                address,\n                abi,\n                \"getEventSchemasById\",\n                [ids]\n            )\n        } catch (e) {\n            console.log(e)\n        }\n        return null\n    }\n\n    /**\n     * If there published data for a given schema, this returns the last published data\n     * @dev this assumes that last published data is at the end of the array of all publisher data points\n     * @param schemaId Unique schema identifier\n     * @param publisher Wallet address of the publisher \n     * @returns Raw data from chain if schema is not public, decoded data if it is or null if there were errors reading data\n     */\n    public async getLastPublishedDataForSchema(\n        schemaId: SchemaID,\n        publisher: Address\n    ): Promise<Hex[] | SchemaDecodedItem[][] | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Read the last published bytes data from chain\n            const rawData = await this.viem.readContract<Hex>(\n                address,\n                abi,\n                \"getLastPublishedDataForSchema\",\n                [schemaId, publisher]\n            )\n\n            return this.deserialiseRawData([rawData], schemaId)\n        } catch (e) {\n            console.log(e)\n        }\n        return null\n    }\n\n    /**\n     * Based on the connected viem public client, will return the address, abi and connected chain id\n     * @returns Protocol info if there is one defined for the target chain, an error if that was not possible or null in a catch all error scenario\n     */\n    public async getSomniaDataStreamsProtocolInfo(): Promise<\n        GetSomniaDataStreamsProtocolInfoResponse | Error | null\n    > {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            return {\n                address,\n                abi,\n                chainId\n            }\n        } catch (e) {\n            console.log(e)\n            if (e instanceof Error) {\n                return e\n            }\n        }\n        return null\n    }\n\n    /**\n     * Somnia streams reactivity enabling event subscriptions that bundle any ETH call data\n     * @param param0 See SubscriptionInitParams type which defines the events being observed, the eth calls executed and what callback fn to call\n     * @returns The subscription identifier and an unsubscribe callback or undefined if the subscription fails to start\n     */\n    public async subscribe({\n        somniaStreamsEventId,\n        ethCalls,\n        context,\n        onData,\n        onError,\n        eventContractSource,\n        topicOverrides,\n        onlyPushChanges\n    }: SubscriptionInitParams): Promise<{ subscriptionId: string, unsubscribe: () => void } | undefined> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the streams contract address as the default event source\n            const { address: streamsProtocolAddress } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Ensure the transport type is websocket otherwise we cannot proceed\n            if (this.viem.client.public.transport.type !== \"webSocket\") {\n                throw new Error(\"Invalid public client config - websocket required\")\n            }\n\n            // If an override for event source has been specified use it otherwise use the Streams contract address\n            const eventSource: Address = eventContractSource ? eventContractSource : streamsProtocolAddress\n            assertAddressIsValid(eventSource)\n\n            let eventTopics: Hex[] = []\n            if (isAddressEqual(eventSource, streamsProtocolAddress)) {\n                // the default event source is being used but lets check if more than 1 topic has been supplied\n                if (!topicOverrides || topicOverrides.length === 0) {\n                    if (!somniaStreamsEventId) {\n                        throw new Error(\"Somnia streams event ID must be specified\")\n                    }\n\n                    // Fetch the topic info from the streams contract by id\n                    const eventSchemas = await this.getEventSchemasById([somniaStreamsEventId])\n                    if (!eventSchemas) {\n                        throw new Error(\"Failed to get the event schema\")\n                    }\n                    if (eventSchemas.length < 1) {\n                        throw new Error(\"No event schema returned\")\n                    }\n                    if (eventSchemas.length > 1) {\n                        throw new Error(\"Too many schemas found\")\n                    }\n                    const [eventSchema] = eventSchemas\n                    const { eventTopic } = eventSchema\n\n                    // Push a single topic for us to watch\n                    eventTopics.push(eventTopic as Hex)\n                } else {\n                    eventTopics = topicOverrides\n                }\n            } else {\n                if (!topicOverrides) {\n                    throw new Error(\"Specified event contract source but no event topic specified\")\n                }\n                eventTopics = topicOverrides\n            }\n\n            // get a public client with the correct websocket types already figured out\n            const webSocketClient = createPublicClient({\n                chain: this.viem.client.public.chain,\n                transport: webSocket(),  // Defaults to chain's WS URL\n            }) as unknown as { transport: ExtendedWebSocketTransport };\n\n            // Subscribe and return the subscription info to the caller\n            return webSocketClient.transport.subscribe({\n                params: [\n                    \"somnia_watch\",\n                    {\n                        address: eventSource,\n                        topics: eventTopics,\n                        eth_calls: ethCalls,\n                        context,\n                        push_changes_only: onlyPushChanges\n                    }\n                ],\n                onData,\n                onError\n            })\n        } catch (e) {\n            console.log(e)\n        }\n    }\n\n    /**\n     * From raw bytes data, deserialise the raw data based on a given public schema\n     * @param rawData The array of data that will be deserialised based on the specified schema\n     * @param schemaId The bytes32 schema identifier used to lookup the schema that is needed for deserialisation\n     * @returns The raw data if the schema is public, the decoded items for each item of raw data or null if there was an issue (catch all)\n     */\n    public async deserialiseRawData(\n        rawData: Hex[],\n        schemaId: SchemaID\n    ): Promise<Hex[] | SchemaDecodedItem[][] | null> {\n        try {\n            // Resolve the chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            const schemaLookup = await this.schemaLookup(address, abi, schemaId)\n            let finalSchema = schemaLookup?.finalSchema\n            if (finalSchema) {\n                const encoder = new SchemaEncoder(finalSchema)\n                const decodedData = rawData.map((raw: Hex) => (encoder.decodeData(raw)))\n                return decodedData\n            }\n\n            // Return the raw data without decoding direct from chain since we didn't have a public schema\n            return rawData\n        } catch (e) {\n            console.error(e)\n        }\n        return null\n    }\n\n    /**\n     * Request a schema given the schema id used for data publishing and let the SDK take care of schema extensions\n     * @param schemaId The bytes32 unique identifier for a base schema\n     * @returns Schema info if it is public, Error or null if there is a problem retrieving schema ID\n     */\n    public async getSchemaFromSchemaId(\n        schemaId: SchemaID\n    ): Promise<{\n        baseSchema: string\n        finalSchema: string\n        schemaId: Hex\n    } | Error | null> {\n        try {\n            // Resolve the connected chain id\n            const chainId = await this.viem.getChainId()\n\n            // Fetch the required contract info\n            const { address, abi } = await getContractAddressAndAbi({\n                internal: KnownContracts.STREAMS,\n                chainId\n            })\n\n            // Do the base schema lookup and check if the schema has extended other schemas\n            const schemaLookup = await this.schemaLookup(\n                address,\n                abi,\n                schemaId\n            )\n            if (!schemaLookup) {\n                throw new Error(`Unable to do schema lookup on [${schemaId}]`)\n            }\n\n            return schemaLookup\n        } catch (e) {\n            console.log(e)\n            if (e instanceof Error) {\n                return e\n            }\n        }\n        return null\n    }\n\n    private async schemaLookup(\n        contract: Address,\n        abi: Abi,\n        schemaRef: SchemaReference\n    ): Promise<{\n        baseSchema: string\n        finalSchema: string\n        schemaId: Hex\n    } | null> {\n        // Ensure there is some data to process\n        if (schemaRef.length === 0 || schemaRef.trim().length === 0) {\n            throw new Error(\"Invalid schema or schema ID (zero data)\")\n        }\n\n        // Lets resolve the schema ID\n        // We either have the raw base schema (without the parent schema(s)) or direct schema Id for the base\n        let schemaId: Hex | null = null\n        let lookupSchemaOnchain = true\n        if (schemaRef.indexOf(\"0x\") === -1 && schemaRef.indexOf(\"0X\") === -1) {\n            // we dont need to do an onchain schema id -> schema look up as we already have the schema\n            // but we should still compute the schema Id\n            schemaId = await this.computeSchemaId(schemaRef)\n            if (!schemaId) {\n                return null\n            }\n\n            // no need to look the schema up on-chain since we have it\n            lookupSchemaOnchain = false\n        } else {\n            schemaId = schemaRef as Hex\n        }\n\n        // Request info from the chain to see \n        // 1. if the schema is public\n        // 2. if there is a parent schema associated\n        const [baseSchemaLookup, parentSchemaId] = await Promise.all([\n            lookupSchemaOnchain ? this.viem.readContract<string>(\n                contract,\n                abi,\n                \"schemaReverseLookup\",\n                [schemaId]\n            ) : Promise.resolve(schemaRef),\n            this.viem.readContract<Hex>(\n                contract,\n                abi,\n                \"parentSchemaId\",\n                [schemaId]\n            ),\n        ])\n\n        // Lookup parent schema if the base schema has extended another\n        let parentSchema: string | null = null\n        if (parentSchemaId !== zeroBytes32) {\n            // TODO - this is only handling depth of 1 we need to handle more\n            parentSchema = await this.viem.readContract<string>(\n                contract,\n                abi,\n                \"schemaReverseLookup\",\n                [parentSchemaId]\n            )\n            console.log(\"Parent schema is associated with the schema\", { parentSchema })\n        }\n\n        // Compute the final schema factoring in any parent schemas\n        let finalSchema = baseSchemaLookup\n        if (parentSchema) {\n            finalSchema = `${finalSchema}, ${parentSchema}`\n        }\n\n        if (finalSchema.length === 0) {\n            console.warn(\"Unable to compute final schema\")\n            return null\n        }\n\n        // Return the info to be consumed internally and externally\n        return {\n            baseSchema: baseSchemaLookup,\n            finalSchema,\n            schemaId\n        }\n    }\n\n}","// Dependencies for SDK class\nimport { Client } from \"@/types\"\nimport {\n    Streams,\n} from \"@/modules\"\n\n// Exports for SDK consumers\nexport { zeroBytes32 } from \"@/constants\"\nexport { SchemaEncoder } from \"@/modules\"\nexport { SubscriptionCallback, SubscriptionInitParams } from \"@/types/streams\"\n\nexport class SDK {\n    // Public modules that can be accessed on the SDK instance\n    streams: Streams\n\n    /**\n     * Create a new SDK instance\n     * @param client Viem wrapper object for consuming the public client and optionally the wallet client for transactions\n     */\n    constructor(client: Client) {\n        this.streams = new Streams(client)\n    }\n\n}"]}